// SPDX-License-Identifier: UNLICENSED
pragma solidity =0.8.20;

import "forge-std/Test.sol";
import "../src/zkPaymaster.sol";
import {IEntryPoint} from "account-abstraction/interfaces/IEntryPoint.sol";

contract ZKPaymasterTest is Test {
    ZKPaymaster public zkPaymaster;

    function setUp() public {
        zkPaymaster = new ZKPaymaster(
            IEntryPoint(0x5FF137D4b0FDCD49DcA30c7CF57E578a026d2789)
        );
    }

    function testCompareBytes() public {
        bytes
            memory bytesToCheck = hex"1fad948c00000000000000000000000000000000000000000000000000000000000000400000000000000000000000006892bef4ae1b5cb33f9a175ab822518c9025fc3c00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000020000000000000000000000000684ef912b945121c3e094eef58c44e731f84382f000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000001600000000000000000000000000000000000000000000000000000000000000180000000000000000000000000000000000000000000000000000000000000814c0000000000000000000000000000000000000000000000000000000000009ac8000000000000000000000000000000000000000000000000000000000000bfc9000000000000000000000000000000000000000000000000000000006507a5de000000000000000000000000000000000000000000000000000000006507a5c00000000000000000000000000000000000000000000000000000000000000240000000000000000000000000000000000000000000000000000000000000026000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000084b61d27f600000000000000000000000043fe2ac0bb1100278eacd855995f5e52fb570046000000000000000000000000000000000000000000000000016345785d8a0000000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000041c98392d5f9f32b0598279efb0f24ba6d62b014e52476a3aac50cef5f470599f837fc4644f81f5606f220971d31113af7360617484b845cc8ef15c25341ddcd581b00000000000000000000000000000000000000000000000000000000000000";
        bytes memory bytesToCheckIn = hex"1fadd94d8c";
        bool result = zkPaymaster.compare(bytesToCheck, bytesToCheckIn);
        assertTrue(result);
    }
}
